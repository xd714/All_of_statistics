<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 18: Time Series Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: 'üìàüìä‚è∞üìâüìà';
            position: absolute;
            top: 50%;
            left: -25%;
            transform: translateY(-50%);
            font-size: 4em;
            opacity: 0.1;
            animation: time-flow 12s linear infinite;
        }

        @keyframes time-flow {
            0% { left: -25%; }
            100% { left: 125%; }
        }

        .header h1 {
            position: relative;
            z-index: 1;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            position: relative;
            z-index: 1;
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 15px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: inline-block;
        }

        .ts-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.3);
            text-align: center;
        }

        .formula-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border: 2px solid #f39c12;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.2);
        }

        .example-box {
            background: linear-gradient(135deg, #e0c3fc 0%, #9bb5ff 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 15px 0;
            border: 2px solid #9c88ff;
            box-shadow: 0 8px 20px rgba(156, 136, 255, 0.2);
        }

        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .model-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        .model-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .warning-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            padding: 30px 40px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .nav-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        table {
            width: 100%; 
            border-collapse: collapse; 
            background: white; 
            border-radius: 10px; 
            overflow: hidden;
        }

        th {
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        td {
            padding: 12px; 
            border-bottom: 1px solid #eee;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Chapter 18: Time Series Analysis</h1>
            <p>Modeling Sequential Data and Temporal Dependencies</p>
        </div>

        <div class="content">
            <div class="section">
                <h2>‚è∞ Introduction to Time Series</h2>
                
                <div class="ts-box">
                    <h4>üéØ What Makes Time Series Special?</h4>
                    <p><strong>Sequential dependence:</strong> Observations are ordered in time and often correlated</p>
                    <p><strong>Key challenge:</strong> Violates independence assumption of classical statistics</p>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        {X_t : t = 1, 2, 3, ...} where t represents time
                    </div>
                </div>

                <div class="example-box">
                    <h4>üìà Real-World Examples</h4>
                    <ul>
                        <li><strong>Stock prices:</strong> Daily closing prices over years</li>
                        <li><strong>Temperature:</strong> Hourly readings at weather station</li>
                        <li><strong>GDP:</strong> Quarterly economic output</li>
                        <li><strong>Heart rate:</strong> Beats per minute during exercise</li>
                        <li><strong>Sales data:</strong> Monthly revenue figures</li>
                        <li><strong>Web traffic:</strong> Hourly website visits</li>
                    </ul>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìä Key Characteristics</h5>
                        <ul>
                            <li><strong>Temporal dependence:</strong> Past affects present</li>
                            <li><strong>Trend:</strong> Long-term increase/decrease</li>
                            <li><strong>Seasonality:</strong> Regular periodic patterns</li>
                            <li><strong>Cycles:</strong> Irregular fluctuations</li>
                            <li><strong>Noise:</strong> Random variations</li>
                        </ul>
                    </div>

                    <div class="model-card">
                        <h5>üîç Types of Data</h5>
                        <ul>
                            <li><strong>Univariate:</strong> Single series {X_t}</li>
                            <li><strong>Multivariate:</strong> Vector series {X_t}</li>
                            <li><strong>Discrete time:</strong> Regular intervals</li>
                            <li><strong>Continuous time:</strong> Any moment</li>
                            <li><strong>High frequency:</strong> Seconds, milliseconds</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîÑ Stationarity</h2>

                <div class="ts-box">
                    <h4>üìä Weak Stationarity (Most Important Concept)</h4>
                    <p>A time series is weakly stationary if:</p>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        1. E[X_t] = Œº (constant mean)
                        <br>2. Var(X_t) = œÉ¬≤ (constant variance)  
                        <br>3. Cov(X_t, X_{t+h}) depends only on h, not t
                    </div>
                    <p><strong>Key insight:</strong> Statistical properties don't change over time</p>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>‚úÖ Stationary Examples</h5>
                        <ul>
                            <li><strong>White noise:</strong> Independent random values</li>
                            <li><strong>Stationary AR/MA:</strong> Under certain conditions</li>
                            <li><strong>Detrended data:</strong> After removing trend</li>
                            <li><strong>Stock returns:</strong> Often approximately stationary</li>
                            <li><strong>Seasonal adjusted data:</strong> After removing seasons</li>
                        </ul>
                    </div>

                    <div class="model-card">
                        <h5>‚ùå Non-Stationary Examples</h5>
                        <ul>
                            <li><strong>Stock prices:</strong> Random walk behavior</li>
                            <li><strong>GDP:</strong> Long-term growth trend</li>
                            <li><strong>Population:</strong> Exponential growth</li>
                            <li><strong>Temperature:</strong> Seasonal patterns</li>
                            <li><strong>Technology adoption:</strong> S-curve patterns</li>
                        </ul>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üîß Achieving Stationarity</h4>
                    <p><strong>Common transformations:</strong></p>
                    <div class="formula-box">
                        <strong>Differencing:</strong> ‚àáX_t = X_t - X_{t-1}
                        <br><strong>Log transform:</strong> log(X_t) for exponential growth
                        <br><strong>Seasonal differencing:</strong> X_t - X_{t-12} for monthly data
                        <br><strong>Detrending:</strong> X_t - trend_t
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>‚ö™ White Noise and Random Walks</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>‚ö™ White Noise</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            Œµ_t ~ iid(0, œÉ¬≤)
                        </div>
                        <p><strong>Properties:</strong></p>
                        <ul>
                            <li>Mean = 0, Variance = œÉ¬≤</li>
                            <li>No autocorrelation</li>
                            <li>Unpredictable</li>
                            <li>Fundamental building block</li>
                        </ul>
                    </div>

                    <div class="model-card">
                        <h5>üö∂ Random Walk</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = X_{t-1} + Œµ_t
                        </div>
                        <p><strong>Properties:</strong></p>
                        <ul>
                            <li>Non-stationary (variance grows)</li>
                            <li>Has unit root</li>
                            <li>No mean reversion</li>
                            <li>Common in financial data</li>
                        </ul>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üí∞ Financial Application</h4>
                    <p><strong>Efficient Market Hypothesis:</strong> Stock prices follow random walk</p>
                    <div class="formula-box">
                        <strong>Price:</strong> P_t = P_{t-1} + Œµ_t (random walk)
                        <br><strong>Return:</strong> R_t = (P_t - P_{t-1})/P_{t-1} (stationary)
                    </div>
                    <p><strong>Implication:</strong> Returns are unpredictable, but prices trend</p>
                </div>
            </div>

            <div class="section">
                <h2>üìä ARIMA Models</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìà AR(p) - Autoregressive</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = œÜ‚ÇÅX_{t-1} + œÜ‚ÇÇX_{t-2} + ... + œÜ‚ÇöX_{t-p} + Œµ_t
                        </div>
                        <p><strong>Idea:</strong> Current value depends on past values</p>
                        <p><strong>Example:</strong> Today's temperature depends on yesterday's</p>
                        <p><strong>Stationarity:</strong> Requires |œÜ‚ÇÅ| < 1 for AR(1)</p>
                    </div>

                    <div class="model-card">
                        <h5>üìâ MA(q) - Moving Average</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = Œµ_t + Œ∏‚ÇÅŒµ_{t-1} + Œ∏‚ÇÇŒµ_{t-2} + ... + Œ∏_qŒµ_{t-q}
                        </div>
                        <p><strong>Idea:</strong> Current value depends on past shocks</p>
                        <p><strong>Example:</strong> Market reaction to news fades over time</p>
                        <p><strong>Always stationary</strong> (if Œµ_t is white noise)</p>
                    </div>

                    <div class="model-card">
                        <h5>üîÑ ARMA(p,q)</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = œÜ‚ÇÅX_{t-1} + ... + œÜ‚ÇöX_{t-p} + Œµ_t + Œ∏‚ÇÅŒµ_{t-1} + ... + Œ∏_qŒµ_{t-q}
                        </div>
                        <p><strong>Combines:</strong> AR and MA components</p>
                        <p><strong>More flexible:</strong> Can capture complex dependencies</p>
                        <p><strong>Parsimonious:</strong> Fewer parameters than pure AR or MA</p>
                    </div>

                    <div class="model-card">
                        <h5>üìà ARIMA(p,d,q)</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            (1-B)^d X_t follows ARMA(p,q)
                        </div>
                        <p><strong>d:</strong> Order of differencing to achieve stationarity</p>
                        <p><strong>B:</strong> Backshift operator (BX_t = X_{t-1})</p>
                        <p><strong>Use:</strong> When original series is non-stationary</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üéØ Simple Examples</h4>
                    <div class="formula-box">
                        <strong>AR(1):</strong> X_t = 0.8X_{t-1} + Œµ_t (mean reversion)
                        <br><strong>MA(1):</strong> X_t = Œµ_t + 0.5Œµ_{t-1} (shock persistence)
                        <br><strong>ARIMA(1,1,0):</strong> ‚àáX_t = 0.3‚àáX_{t-1} + Œµ_t
                        <br><strong>Random Walk:</strong> ARIMA(0,1,0)
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîç Model Identification and Estimation</h2>

                <div class="ts-box">
                    <h4>üìä Box-Jenkins Methodology</h4>
                    <ol>
                        <li><strong>Identification:</strong> Determine p, d, q using ACF/PACF</li>
                        <li><strong>Estimation:</strong> Fit model parameters (MLE)</li>
                        <li><strong>Diagnostic checking:</strong> Validate model assumptions</li>
                        <li><strong>Forecasting:</strong> Generate predictions</li>
                    </ol>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìà ACF - Autocorrelation Function</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            œÅ(h) = Cov(X_t, X_{t+h})/Var(X_t)
                        </div>
                        <p><strong>MA(q) pattern:</strong> Cuts off after lag q</p>
                        <p><strong>AR(p) pattern:</strong> Decays exponentially</p>
                        <p><strong>Use:</strong> Identify MA order</p>
                    </div>

                    <div class="model-card">
                        <h5>üìâ PACF - Partial Autocorrelation</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            œÜ_{hh} = Corr(X_t, X_{t+h} | X_{t+1}, ..., X_{t+h-1})
                        </div>
                        <p><strong>AR(p) pattern:</strong> Cuts off after lag p</p>
                        <p><strong>MA(q) pattern:</strong> Decays exponentially</p>
                        <p><strong>Use:</strong> Identify AR order</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üéØ Model Selection Guide</h4>
                    <table>
                        <tr>
                            <th>Model</th>
                            <th>ACF Pattern</th>
                            <th>PACF Pattern</th>
                        </tr>
                        <tr>
                            <td><strong>AR(p)</strong></td>
                            <td>Exponential decay</td>
                            <td>Cuts off after lag p</td>
                        </tr>
                        <tr>
                            <td><strong>MA(q)</strong></td>
                            <td>Cuts off after lag q</td>
                            <td>Exponential decay</td>
                        </tr>
                        <tr>
                            <td><strong>ARMA(p,q)</strong></td>
                            <td>Exponential decay after lag q-p</td>
                            <td>Exponential decay after lag p-q</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2>üïï Non-Stationary Time Series</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìà Unit Root Tests</h5>
                        <p><strong>Augmented Dickey-Fuller:</strong></p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            ‚àáX_t = Œ¥X_{t-1} + ‚àëŒ≥·µ¢‚àáX_{t-i} + Œµ_t
                            <br>H‚ÇÄ: Œ¥ = 0 (unit root)
                        </div>
                        <p><strong>If unit root:</strong> Series is I(1), need differencing</p>
                    </div>

                    <div class="model-card">
                        <h5>üîÑ Differencing</h5>
                        <p><strong>First difference:</strong> ‚àáX_t = X_t - X_{t-1}</p>
                        <p><strong>Seasonal difference:</strong> X_t - X_{t-s}</p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            If X_t ~ I(d), then ‚àá^d X_t ~ I(0)
                        </div>
                        <p><strong>Goal:</strong> Transform to stationarity</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üí° Integration Orders</h4>
                    <div class="formula-box">
                        <strong>I(0):</strong> Stationary (no differencing needed)
                        <br><strong>I(1):</strong> First difference is stationary (most common)
                        <br><strong>I(2):</strong> Second difference is stationary (rare)
                    </div>
                    <p><strong>Examples:</strong> Stock prices I(1), GDP often I(2)</p>
                </div>
            </div>

            <div class="section">
                <h2>üìÖ Seasonal Time Series</h2>

                <div class="ts-box">
                    <h4>üåä Seasonal ARIMA</h4>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        SARIMA(p,d,q)√ó(P,D,Q)_s
                    </div>
                    <p><strong>Regular part:</strong> (p,d,q) for short-term dependencies</p>
                    <p><strong>Seasonal part:</strong> (P,D,Q)_s for seasonal patterns</p>
                    <p><strong>s:</strong> Seasonal period (12 for monthly, 4 for quarterly)</p>
                </div>

                <div class="example-box">
                    <h4>‚ùÑÔ∏è Seasonal Example</h4>
                    <p><strong>Monthly temperature data:</strong> Clear seasonal pattern</p>
                    <p><strong>Seasonal differencing:</strong> X_t - X_{t-12} removes annual cycle</p>
                    <p><strong>Model:</strong> SARIMA(1,0,1)√ó(1,1,1)‚ÇÅ‚ÇÇ</p>
                    <div class="formula-box">
                        (1-œÜB)(1-Œ¶B¬π¬≤)(1-B¬π¬≤)X_t = (1+Œ∏B)(1+ŒòB¬π¬≤)Œµ_t
                    </div>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üåü Seasonal Patterns</h5>
                        <ul>
                            <li><strong>Retail sales:</strong> Holiday shopping peaks</li>
                            <li><strong>Energy consumption:</strong> Winter heating, summer cooling</li>
                            <li><strong>Tourism:</strong> Summer vacation periods</li>
                            <li><strong>Agriculture:</strong> Planting and harvest cycles</li>
                        </ul>
                    </div>

                    <div class="model-card">
                        <h5>üîß Handling Seasonality</h5>
                        <ul>
                            <li><strong>Seasonal differencing:</strong> Remove seasonal trend</li>
                            <li><strong>Seasonal dummies:</strong> Binary variables for seasons</li>
                            <li><strong>Trigonometric terms:</strong> Sine/cosine functions</li>
                            <li><strong>Decomposition:</strong> Separate trend, seasonal, residual</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîÆ Forecasting</h2>

                <div class="ts-box">
                    <h4>üìä Optimal Forecasts</h4>
                    <p><strong>h-step ahead forecast:</strong></p>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        XÃÇ_{n+h|n} = E[X_{n+h} | X_1, ..., X_n]
                    </div>
                    <p><strong>Minimizes mean squared forecast error</strong></p>
                </div>

                <div class="example-box">
                    <h4>üìà AR(1) Forecasting Example</h4>
                    <p><strong>Model:</strong> X_t = œÜX_{t-1} + Œµ_t</p>
                    <div class="formula-box">
                        <strong>1-step ahead:</strong> XÃÇ_{n+1|n} = œÜX_n
                        <br><strong>2-step ahead:</strong> XÃÇ_{n+2|n} = œÜ¬≤X_n
                        <br><strong>h-step ahead:</strong> XÃÇ_{n+h|n} = œÜ^h X_n
                    </div>
                    <p><strong>Key insight:</strong> Forecasts decay to mean if |œÜ| < 1</p>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìä Forecast Variance</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            Var(e_{n+h|n}) = œÉ¬≤(1 + œà‚ÇÅ¬≤ + ... + œà_{h-1}¬≤)
                        </div>
                        <p><strong>œà_j:</strong> MA representation coefficients</p>
                        <p><strong>Increases with h:</strong> More uncertainty for distant forecasts</p>
                    </div>

                    <div class="model-card">
                        <h5>üìà Prediction Intervals</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            XÃÇ_{n+h|n} ¬± z_{Œ±/2}‚àöVar(e_{n+h|n})
                        </div>
                        <p><strong>Assumes:</strong> Gaussian innovations</p>
                        <p><strong>Widens:</strong> As forecast horizon increases</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìä Model Diagnostics</h2>

                <div class="ts-box">
                    <h4>üîç Residual Analysis</h4>
                    <p><strong>Good model should have:</strong></p>
                    <ul>
                        <li>White noise residuals (no autocorrelation)</li>
                        <li>Constant variance (homoscedasticity)</li>
                        <li>Normal distribution (for inference)</li>
                        <li>No outliers or structural breaks</li>
                    </ul>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìà Ljung-Box Test</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            Q = n(n+2)‚àë_{k=1}^h œÅÃÇ_k¬≤/(n-k)
                        </div>
                        <p><strong>H‚ÇÄ:</strong> Residuals are white noise</p>
                        <p><strong>Reject if:</strong> Q > œá¬≤_{h-p-q}</p>
                        <p><strong>Use:</strong> Check for remaining autocorrelation</p>
                    </div>

                    <div class="model-card">
                        <h5>üìä ARCH Test</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            √™_t¬≤ = Œ±‚ÇÄ + Œ±‚ÇÅ√™_{t-1}¬≤ + ... + Œ±_p√™_{t-p}¬≤ + u_t
                        </div>
                        <p><strong>H‚ÇÄ:</strong> No ARCH effects (constant variance)</p>
                        <p><strong>Test statistic:</strong> nR¬≤ ~ œá¬≤_p</p>
                        <p><strong>Use:</strong> Check for volatility clustering</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üìã Diagnostic Checklist</h4>
                    <ol>
                        <li><strong>Plot residuals:</strong> Look for patterns, trends</li>
                        <li><strong>ACF of residuals:</strong> Check for autocorrelation</li>
                        <li><strong>ACF of squared residuals:</strong> Check for ARCH effects</li>
                        <li><strong>Normal Q-Q plot:</strong> Check normality assumption</li>
                        <li><strong>Ljung-Box test:</strong> Formal test for white noise</li>
                        <li><strong>ARCH test:</strong> Formal test for heteroscedasticity</li>
                    </ol>
                </div>
            </div>

            <div class="section">
                <h2>üåä Volatility Modeling</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>‚ö° ARCH(q) Model</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = œÉ_t z_t
                            <br>œÉ_t¬≤ = Œ±‚ÇÄ + Œ±‚ÇÅŒµ_{t-1}¬≤ + ... + Œ±_q Œµ_{t-q}¬≤
                        </div>
                        <p><strong>Key idea:</strong> Variance changes over time</p>
                        <p><strong>Application:</strong> Financial volatility clustering</p>
                    </div>

                    <div class="model-card">
                        <h5>üìä GARCH(p,q) Model</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            œÉ_t¬≤ = Œ±‚ÇÄ + ‚àëŒ±_i Œµ_{t-i}¬≤ + ‚àëŒ≤_j œÉ_{t-j}¬≤
                        </div>
                        <p><strong>Most popular:</strong> GARCH(1,1)</p>
                        <p><strong>Advantage:</strong> Parsimonious parameterization</p>
                        <p><strong>Captures:</strong> Volatility persistence</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üí∞ Financial Applications</h4>
                    <p><strong>Stylized facts of financial returns:</strong></p>
                    <ul>
                        <li>Heavy tails (more extreme events than normal)</li>
                        <li>Volatility clustering (high volatility periods)</li>
                        <li>Leverage effect (negative returns increase volatility more)</li>
                        <li>Mean reversion in volatility</li>
                    </ul>
                    <p><strong>GARCH models capture these patterns!</strong></p>
                </div>
            </div>

            <div class="section">
                <h2>üìà Multivariate Time Series</h2>

                <div class="ts-box">
                    <h4>üîó Vector Autoregression (VAR)</h4>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        X_t = A‚ÇÅX_{t-1} + A‚ÇÇX_{t-2} + ... + A_p X_{t-p} + Œµ_t
                    </div>
                    <p><strong>X_t:</strong> k√ó1 vector of variables</p>
                    <p><strong>A_i:</strong> k√ók coefficient matrices</p>
                    <p><strong>Use:</strong> Model interactions between multiple series</p>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üîÑ Granger Causality</h5>
                        <p><strong>Y Granger-causes X if:</strong> Past Y helps predict X beyond what X's past provides</p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            Test: H‚ÇÄ: Œ≤‚ÇÅ = ... = Œ≤_m = 0
                            <br>in X_t = ‚àëŒ±_i X_{t-i} + ‚àëŒ≤_j Y_{t-j} + Œµ_t
                        </div>
                        <p><strong>Not true causation!</strong> Just predictive relationship</p>
                    </div>

                    <div class="model-card">
                        <h5>üîó Cointegration</h5>
                        <p><strong>Definition:</strong> Non-stationary series with stationary linear combination</p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            If X_t, Y_t ~ I(1) and 
                            <br>Œ≤'X_t ~ I(0), then cointegrated
                        </div>
                        <p><strong>Economic interpretation:</strong> Long-run equilibrium relationship</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üìä Error Correction Model</h4>
                    <p><strong>If variables are cointegrated:</strong></p>
                    <div class="formula-box">
                        ŒîX_t = Œ±(Œ≤'X_{t-1}) + Œì‚ÇÅŒîX_{t-1} + ... + Œµ_t
                    </div>
                    <p><strong>Œ±:</strong> Speed of adjustment to equilibrium</p>
                    <p><strong>Œ≤'X_{t-1}:</strong> Error correction term (how far from equilibrium)</p>
                    <p><strong>Interpretation:</strong> Short-run dynamics + long-run relationship</p>
                </div>
            </div>

            <div class="section">
                <h2>üïï State Space Models</h2>

                <div class="ts-box">
                    <h4>üéØ Linear State Space Form</h4>
                    <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                        <strong>State equation:</strong> Œ±_{t+1} = T_t Œ±_t + R_t Œ∑_t
                        <br><strong>Observation equation:</strong> y_t = Z_t Œ±_t + Œµ_t
                    </div>
                    <p><strong>Œ±_t:</strong> Hidden state vector</p>
                    <p><strong>y_t:</strong> Observed data</p>
                    <p><strong>Very flexible framework!</strong> Many models fit this form</p>
                </div>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üîÑ Kalman Filter</h5>
                        <p><strong>Optimal filter for linear Gaussian models</strong></p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            <strong>Prediction:</strong> Œ±ÃÇ_{t|t-1} = T_t Œ±ÃÇ_{t-1|t-1}
                            <br><strong>Updating:</strong> Œ±ÃÇ_{t|t} = Œ±ÃÇ_{t|t-1} + K_t v_t
                        </div>
                        <p><strong>K_t:</strong> Kalman gain</p>
                        <p><strong>v_t:</strong> Innovation (prediction error)</p>
                    </div>

                    <div class="model-card">
                        <h5>üìä Applications</h5>
                        <ul>
                            <li><strong>Tracking:</strong> Object location over time</li>
                            <li><strong>Economics:</strong> Unobserved components (trend, cycle)</li>
                            <li><strong>Finance:</strong> Hidden factor models</li>
                            <li><strong>Engineering:</strong> Signal processing, control</li>
                        </ul>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üìà Local Level Model</h4>
                    <p><strong>Simplest state space model:</strong></p>
                    <div class="formula-box">
                        <strong>State:</strong> Œ±_{t+1} = Œ±_t + Œ∑_t (random walk)
                        <br><strong>Observation:</strong> y_t = Œ±_t + Œµ_t
                    </div>
                    <p><strong>Interpretation:</strong> Observations are noisy measurements of a slowly changing level</p>
                    <p><strong>Kalman filter provides optimal smoothing</strong></p>
                </div>
            </div>

            <div class="section">
                <h2>üîÆ Forecasting Evaluation</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìä Forecast Accuracy Metrics</h5>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            <strong>MAE:</strong> (1/h)‚àë|e_t|
                            <br><strong>RMSE:</strong> ‚àö[(1/h)‚àëe_t¬≤]
                            <br><strong>MAPE:</strong> (1/h)‚àë|e_t/y_t|√ó100%
                        </div>
                        <p><strong>MAE:</strong> Mean Absolute Error</p>
                        <p><strong>RMSE:</strong> Root Mean Squared Error</p>
                        <p><strong>MAPE:</strong> Mean Absolute Percentage Error</p>
                    </div>

                    <div class="model-card">
                        <h5>üéØ Forecast Evaluation</h5>
                        <p><strong>Out-of-sample testing:</strong> Reserve data for evaluation</p>
                        <p><strong>Rolling window:</strong> Update forecasts as new data arrives</p>
                        <p><strong>Diebold-Mariano test:</strong> Compare forecast accuracy</p>
                        <p><strong>Model confidence set:</strong> Set of best models</p>
                    </div>
                </div>

                <div class="example-box">
                    <h4>üìà Forecast Combination</h4>
                    <p><strong>Often better than single model:</strong></p>
                    <div class="formula-box">
                        <strong>Simple average:</strong> fÃÇ_t = (1/M)‚àëfÃÇ_{i,t}
                        <br><strong>Weighted average:</strong> fÃÇ_t = ‚àëw_i fÃÇ_{i,t}
                    </div>
                    <p><strong>Advantage:</strong> Reduces forecast variance</p>
                    <p><strong>Optimal weights:</strong> Inverse of forecast error variances</p>
                </div>
            </div>

            <div class="section">
                <h2>üîÑ Advanced Topics</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>üìä Regime Switching Models</h5>
                        <p><strong>Markov switching:</strong> Parameters change according to hidden Markov chain</p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = Œº_{S_t} + œÜ_{S_t}X_{t-1} + œÉ_{S_t}Œµ_t
                        </div>
                        <p><strong>S_t:</strong> Hidden regime (e.g., recession/expansion)</p>
                        <p><strong>Applications:</strong> Business cycles, market volatility</p>
                    </div>

                    <div class="model-card">
                        <h5>üìà Threshold Models</h5>
                        <p><strong>TAR (Threshold AR):</strong> Different dynamics above/below threshold</p>
                        <div class="formula-box" style="background: rgba(255,255,255,0.2);">
                            X_t = œÜ‚ÇÅX_{t-1} + Œµ_t if X_{t-d} ‚â§ r
                            <br>X_t = œÜ‚ÇÇX_{t-1} + Œµ_t if X_{t-d} > r
                        </div>
                        <p><strong>Captures asymmetries:</strong> Different behavior in different regions</p>
                    </div>

                    <div class="model-card">
                        <h5>‚ö° High-Frequency Data</h5>
                        <p><strong>Challenges:</strong></p>
                        <ul>
                            <li>Irregular spacing</li>
                            <li>Market microstructure noise</li>
                            <li>Jumps and outliers</li>
                            <li>Time-varying volatility</li>
                        </ul>
                        <p><strong>Methods:</strong> Realized volatility, jump tests, microstructure models</p>
                    </div>

                    <div class="model-card">
                        <h5>üåê Functional Time Series</h5>
                        <p><strong>Each observation is a function</strong></p>
                        <p><strong>Examples:</strong></p>
                        <ul>
                            <li>Daily temperature curves</li>
                            <li>Yield curves</li>
                            <li>Mortality rates by age</li>
                        </ul>
                        <p><strong>Methods:</strong> Functional PCA, basis representations</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üíª Modern Computational Methods</h2>

                <div class="model-grid">
                    <div class="model-card">
                        <h5>ü§ñ Machine Learning for Time Series</h5>
                        <ul>
                            <li><strong>LSTM/RNN:</strong> Deep learning for sequences</li>
                            <li><strong>Random forests:</strong> Non-linear relationships</li>
                            <li><strong>SVM:</strong> Support vector regression</li>
                            <li><strong>Neural networks:</strong> Complex pattern recognition</li>
                        </ul>
                        <p><strong>Challenge:</strong> Maintaining time structure</p>
                    </div>

                    <div class="model-card">
                        <h5>üìä Bayesian Time Series</h5>
                        <p><strong>Advantages:</strong></p>
                        <ul>
                            <li>Natural uncertainty quantification</li>
                            <li>Incorporation of prior knowledge</li>
                            <li>Model averaging</li>
                            <li>Handling of missing data</li>
                        </ul>
                        <p><strong>Methods:</strong> MCMC, particle filters, variational Bayes</p>
                    </div>
                </div>

                <div class="ts-box">
                    <h4>üîÑ Online Learning</h4>
                    <p><strong>Stream processing:</strong> Update models as new data arrives</p>
                    <p><strong>Adaptive methods:</strong> Parameters change over time</p>
                    <p><strong>Change point detection:</strong> Identify structural breaks</p>
                    <p><strong>Applications:</strong> Real-time monitoring, algorithmic trading</p>
                </div>
            </div>

            <div class="section">
                <h2>‚ö†Ô∏è Common Pitfalls</h2>

                <div class="model-grid">
                    <div class="model-card warning-card">
                        <h5>‚ùå Spurious Regression</h5>
                        <p><strong>Problem:</strong> Regressing non-stationary series can give misleading results</p>
                        <p><strong>Result:</strong> High R¬≤, significant t-stats, but meaningless relationship</p>
                        <p><strong>Solution:</strong> Check for cointegration or use differences</p>
                        <p><strong>Example:</strong> Regressing random walks gives spurious correlation</p>
                    </div>

                    <div class="model-card warning-card">
                        <h5>‚ùå Data Mining</h5>
                        <p><strong>Problem:</strong> Testing many models on same data</p>
                        <p><strong>Result:</strong> Overfitting, poor out-of-sample performance</p>
                        <p><strong>Solution:</strong> Cross-validation, hold-out samples</p>
                        <p><strong>Remember:</strong> In-sample fit ‚â† forecast accuracy</p>
                    </div>

                    <div class="model-card warning-card">
                        <h5>‚ùå Assuming Linearity</h5>
                        <p><strong>Problem:</strong> Real relationships often nonlinear</p>
                        <p><strong>Miss:</strong> Regime changes, threshold effects, asymmetries</p>
                        <p><strong>Solutions:</strong> Nonlinear models, regime switching, neural networks</p>
                    </div>

                    <div class="model-card warning-card">
                        <h5>‚ùå Ignoring Structural Breaks</h5>
                        <p><strong>Problem:</strong> Parameters may change over time</p>
                        <p><strong>Causes:</strong> Policy changes, technological shifts, crises</p>
                        <p><strong>Tests:</strong> Chow test, CUSUM, Bai-Perron</p>
                        <p><strong>Solutions:</strong> Rolling windows, regime switching models</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üéØ Practical Guidelines</h2>

                <div class="example-box">
                    <h4>üìã Complete Time Series Analysis Workflow</h4>
                    <ol>
                        <li><strong>Data exploration:</strong> Plot the data, identify patterns, outliers</li>
                        <li><strong>Stationarity testing:</strong> Unit root tests (ADF, KPSS, PP)</li>
                        <li><strong>Transformation:</strong> Differencing, log transformation, seasonal adjustment</li>
                        <li><strong>Model identification:</strong> ACF/PACF analysis, information criteria</li>
                        <li><strong>Parameter estimation:</strong> Maximum likelihood, least squares</li>
                        <li><strong>Diagnostic checking:</strong> Residual analysis, specification tests</li>
                        <li><strong>Model comparison:</strong> AIC, BIC, out-of-sample performance</li>
                        <li><strong>Forecasting:</strong> Point forecasts and prediction intervals</li>
                        <li><strong>Forecast evaluation:</strong> Accuracy metrics, forecast combination</li>
                    </ol>
                </div>

                <div class="ts-box">
                    <h4>üåü Key Takeaways</h4>
                    <ul>
                        <li><strong>Time order matters:</strong> Past influences present and future</li>
                        <li><strong>Stationarity is crucial:</strong> Most methods require stationary data</li>
                        <li><strong>Model diagnostics are essential:</strong> Always check assumptions</li>
                        <li><strong>Forecast uncertainty increases:</strong> Longer horizons are less reliable</li>
                        <li><strong>No single model is best:</strong> Consider ensemble methods</li>
                        <li><strong>Domain knowledge helps:</strong> Understanding context improves models</li>
                        <li><strong>Be aware of structural changes:</strong> Parameters may not be stable</li>
                        <li><strong>Out-of-sample testing is critical:</strong> In-sample fit can be misleading</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üîó Connections to Other Chapters</h2>

                <div class="model-grid">
                    <div class="example-box">
                        <h5>üìä To Convergence (Chapter 6)</h5>
                        <p><strong>Limit theorems for dependent sequences</strong></p>
                        <p><strong>Ergodic theory:</strong> Time averages vs ensemble averages</p>
                        <p><strong>Central limit theorems:</strong> For stationary processes</p>
                    </div>

                    <div class="example-box">
                        <h5>üìà To Regression (Chapters 14-15)</h5>
                        <p><strong>Time series regression:</strong> Regression with autocorrelated errors</p>
                        <p><strong>Spurious regression problem:</strong> Dangerous with non-stationary data</p>
                        <p><strong>Dynamic models:</strong> Lagged dependent variables</p>
                    </div>

                    <div class="example-box">
                        <h5>üß† To Bayesian Inference (Chapter 12)</h5>
                        <p><strong>Bayesian time series models:</strong> State space with MCMC</p>
                        <p><strong>Dynamic linear models:</strong> Time-varying parameters</p>
                        <p><strong>Model averaging:</strong> Combining multiple time series models</p>
                    </div>

                    <div class="example-box">
                        <h5>üîÆ To Machine Learning (Chapter 22)</h5>
                        <p><strong>Sequential data:</strong> Time series as special case of sequences</p>
                        <p><strong>LSTM networks:</strong> Deep learning for temporal dependencies</p>
                        <p><strong>Online learning:</strong> Updating models with streaming data</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-buttons">
            <a href="#" class="nav-btn">‚Üê Chapter 17: Advanced Statistical Methods</a>
            <a href="#" class="nav-btn">Chapter 19: Survival Analysis ‚Üí</a>
        </div>
    </div>
</body>
</html>
                